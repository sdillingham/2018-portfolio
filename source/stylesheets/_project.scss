// STYLES FOR SINGLE PROJECT VIEW

.single-project {
  background: white;

  // set up default max-width for our content
  .bound {
    max-width: grid-calc(6);
  } 

  &.kpcc-iphone {
    .project-marquee {
      background: url('../images/kpcc-iphone/bg-iphone-hero.jpg') no-repeat center top;
      background-size: cover;
    }
  }
}
// Project Marquee
.project-marquee {
  color: white;
  min-height: grid-height(15);
  text-align: center;
}
.marquee-header {
  @extend .marquee-heading;
  margin: grid-height(3) grid-pull-calc(2) 0 ;
}
// Project Title and Description
.project-title {
  color: white;
  font-size: em(61);
  line-height:1em;
  margin:0;
  padding:14px 0;
}
.project-description {
  font-size: em(27);
  line-height: em(31, 27);
  margin: 0 0 grid-height(6);
}
.project-responsibilities {
  font-size: em(16);
  dd, dt {
    display: inline-block;
    margin: 0;
  }
  dt {
    font-weight: 700;
  }
}

// Project Details
.project-details {
  padding-top: grid-height(2);
}
// Project Body Copy Styles 
.narrative {
  padding-bottom: grid-height(3);
  p, li {
    font-size: em(18);
    line-height: em(31);
  }
}
// Project Figure Styles
.figure {
  display: block;
  &.triptych {
    @include clearfix;
    margin: grid-height(2) grid-pull-calc(3);
    .img-container {
      float: left;
      margin-right: 2%;
      text-align: center;
      width: 32%;
      &:last-of-type {
        margin-right: 0;
      }
    }
    .caption {
      margin: 0 grid-push-calc(2);
    }
  }
  &.quadrant {
    @include clearfix;
    margin: grid-height(2) grid-pull-calc(1);
    .img-container {
      float: left;
      margin-bottom: 21px;
      margin-right: 3%;
      text-align: center;
      width: 48.5%;
      &:nth-of-type(even) {
        margin-right: 0;
      }
    }
  }
  &.prototypes {
    text-align: center;
  }
}
.img-bin {
  @include clearfix;
}
.caption {
  color: $medGray;
  font-size: em(14);
  line-height: em(24);
  text-align: center;
}
.brief {
  @extend .marquee-heading;
  font-size: em(14);
  font-weight: 600;
  text-transform: uppercase;
}

// Chapter Introductions
.chapter-introduction {
  @extend .marquee-heading;
  @include linear-gradient(90deg, #3593C0, #18B180);
  color: white;
  margin-bottom: grid-height(3);
  min-height: grid-height(17);
  padding-top: grid-height(2);
  text-align: center;
  .bound {
    max-width: grid-calc(8);
  }
  .svg {
    display: block;
  }

  &.viewable {
    // iPhone Chapters
    $chapters: ("discovery", "design", "prototyping");

    @each $chapter in $chapters {
      .#{$chapter} &  { 
        background: url('../images/kpcc-iphone/bg-#{$chapter}.jpg') no-repeat center top;
        background-size: cover;
      }
    }
  }
}
.chapter-title {
  display: inline-block;
  font-size: em(41);
  margin:0 0 grid-height(3);
  &:after {
    background: white;
    content: "";
    display: block;
    height:1px;
    margin-top: $grid-height / 2;
  }
}
.chapter-teaser {
  font-size: em(24);
  line-height: em(36, 24);
}

// Chapter Intermissions
.intermission {
  @extend .marquee-heading;
  text-align: center;

  .bound {
    max-width: grid-calc(12);
  }
}
.intermission-heading {
  font-size: em(32);
  margin: 0 0 grid-height(2);
}
.intermission.wireframes {
  background: #12A17A;
  color: white;
  margin: grid-height(2) 0;
  padding: grid-height(1) 0 grid-height(2);
  position: relative;
  img {
    @include box-shadow(0 2px 9px rgba(0,0,0,0.5)); 
  }
  .heading-label {
    color: #003E2D;
  }
}

// Device Mocks
.marvel-device {
  margin: grid-height(2) auto;
  .screen {
    background: black;
    z-index: 500;
  }
}

// Screenshot Slider
.device {
  margin-bottom: grid-height(2);
  position: relative;
  .slider-navigation {
    .slick-prev, .slick-next {
      background: #eee;
      &:hover {
        background: #bbb;
      }
    }
    .slick-prev {
      top: 50%;
      left: 50%;
      margin-left: -150px;
    }
    .slick-next {
      top: 50%;
      right: 50%;
      margin-right: -150px;
    }
    &.active {
      .slick-prev {
        left: 50%;
        margin-left: -254px;
      }
      .slick-next {
        right: 50%;
        margin-right: -254px;
      }
    }
  }
  .slick-dots {
    margin-top: grid-height(5);
    margin-bottom: grid-height(4);
    button {
      background: #bbb;
    }
  }
  .brief {
    margin-top: grid-height(-2);
  }
}

// Wireframe Flows
.flow {
  @include clearfix;
  list-style: none;
  padding: 0;
}
.flow-item {
  float: left;
  position: relative;
  &:last-of-type {
    .flow-arrow {
      display: none;
    }
  }
  .four-steps & {
    margin: 0 5%;
    width: 15%;
  }
  .brief {
    text-transform: none;
  }
  .flow-arrow {
    border-top: 1px dashed white;
    display: block;
    height:1px;
    opacity: 0.48;
    width: 52%;
    position: absolute;
    top: 44%;
    right: -58%;
    &:after {
      border-style: solid;
      border-width: 4.5px 0 4.5px 6px;
      border-color: transparent transparent transparent #ffffff;
      content: "";
      width: 0;
      height: 0;
      position: absolute;
      right: -7px;
      top: -5px;
    }
  }
}

// Slider component
.slider {
  position: relative;
}
.slider-navigation {
  overflow: hidden;
  position: absolute;
  width:100%;
  height:100%;
  .slick-prev, .slick-next {
    transition: all 0.2s ease-in-out;
    background: rgba(0,0,0,0.05);
    border:0;
    cursor: pointer;
    outline: none;
    position: absolute;
    top: 43%;
    margin-top: -32px;
    width: 64px;
    height: 64px;
    &:hover {
      background: rgba(0,0,0,0.25);
    }
    &:active {
      background: rgba(0,0,0,0.5);
    }
  }
  .slick-prev {
    left: -64px;
  }
  .slick-next {
    right: -64px;
  }
  .next-arrow, .prev-arrow {
    background: white;
    display: block;
    position: absolute;
    width: 20px;
    height: 2px;
  }
  .prev-arrow {
    left: 27px;
    &:after {
      border-style: solid;
      border-width: 7.5px 10px 7.5px 0;
      border-color: transparent #ffffff transparent transparent;
      content: "";
      width: 0;
      height: 0;
      position: absolute;
      left: -10px;
      top: -6px;
    }
  }
  .next-arrow {
    right: 27px;
    &:after {
      border-style: solid;
      border-width: 7.5px 0 7.5px 10px;
      border-color: transparent transparent transparent #ffffff;
      content: "";
      width: 0;
      height: 0;
      position: absolute;
      right: -10px;
      top: -6px;
    }
  }
  &.active {
    .slick-prev {
      left: 0;
    }
    .slick-next {
      right: 0;
    }
  }
}
.slick-dots {
  list-style: none;
  margin: 0;
  padding: 0;
  li { 
    display: inline-block;
    margin: 0 5px;
    &.slick-active {
      button {
        opacity: 0.5;
      }
    }
  }
  button {
    @include hide-text;
    background: white;
    border: 0;
    border-radius: 5px;
    opacity: 0.2;
    outline: none;
    padding: 0;
    width: 10px;
    height: 10px;
  }
}

// Fluidbox styling
.fluidbox {
  transition: all 0.1s linear, color 0.1s linear;
  display: block;
  &:hover {
    @include box-shadow(0 2px 9px rgba(0,0,0,0.5));
  }
}


// Next Project
.next-project {
  color:$white;
  height:24em;
  margin-bottom:-8em;
  position:relative;
  .next-bg {
    background:darken($subduedAccent, 13%);
    position:absolute;
    left:0;
    right:0;
    top:0;
    bottom:0;
    z-index:-3;
  }
  footer {
    height:20em;
    padding-top: grid-height(3);
    position:fixed;
    bottom:4em;
    left:0;
    right:0;
    text-align:center;
    h3, h5 {
      @extend .marquee-heading;
    }
    h3 {
      font-size: em(41);
      margin:0 0 grid-height(1);
    }
    h5 {
      color: #003D2C;
      font-size: em(14);
      font-weight: 600;
      margin-bottom: em(6);
      text-transform: uppercase;
    }
    p {
      font-size: em(18);
      margin-top:0;
      a {
        color:$white;
      }
    }
    a {
      color:$white;
      &:hover {
        color:$brightAccent;
      }
    }
  }
}
.next-project.viewable {
  &.outpost {
    background: url('../images/next-project-outpost.jpg');
    background-size: cover;
  }
}