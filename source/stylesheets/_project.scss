// STYLES FOR SINGLE PROJECT VIEW

.single-project {
  background: white;

  // set up default max-width for our content
  .bound {
    max-width: grid-calc(6);
  } 

  &.kpcc-iphone {
    .project-marquee {
      background: url('../images/kpcc-iphone/bg-iphone-hero.jpg') no-repeat center top;
      background-size: cover;
    }
  }
}
// Project Marquee
.project-marquee {
  color: white;
  min-height: grid-height(15);
  text-align: center;
}
.marquee-header {
  @extend .marquee-heading;
  margin: grid-height(3) grid-pull-calc(2) 0 ;
}
// Project Title and Description
.project-title {
  color: white;
  font-size: em(61);
  line-height:1em;
  margin:0;
  padding:14px 0;
}
.project-description {
  font-size: em(27);
  line-height: em(31, 27);
  margin: 0 0 grid-height(6);
}
.project-responsibilities {
  font-size: em(16);
  dd, dt {
    display: inline-block;
    margin: 0;
  }
  dt {
    font-weight: 700;
  }
}

// Project Details
.project-details {
  padding-top: grid-height(2);
}
// Project Body Copy Styles 
.narrative {
  margin-bottom: grid-height(3);
  p, li {
    font-size: em(18);
    line-height: em(31);
  }
}
// Project Figure Styles
.figure {
  display: block;
  &.triptych {
    @include clearfix;
    margin: grid-height(2) grid-pull-calc(3);
    .img-container {
      float: left;
      margin-right: 2%;
      text-align: center;
      width: 32%;
      &:last-of-type {
        margin-right: 0;
      }
    }
    .caption {
      margin: 0 grid-push-calc(2);
    }
  }
  &.quadrant {
    @include clearfix;
    margin: grid-height(2) grid-pull-calc(1);
    .img-container {
      float: left;
      margin-bottom: 21px;
      margin-right: 3%;
      text-align: center;
      width: 48.5%;
      &:nth-of-type(even) {
        margin-right: 0;
      }
    }
  }
  &.prototypes {
    text-align: center;
  }
}
.img-bin {
  @include clearfix;
}
.caption {
  color: $medGray;
  font-size: em(14);
  line-height: em(24);
  text-align: center;
}
.brief {
  @extend .marquee-heading;
  font-size: em(14);
  font-weight: 600;
  text-transform: uppercase;
}

// Chapter Introductions
.chapter-introduction {
  @extend .marquee-heading;
  @include linear-gradient(90deg, #3593C0, #18B180);
  color: white;
  margin-bottom: grid-height(3);
  min-height: grid-height(17);
  padding-top: grid-height(2);
  text-align: center;
  .bound {
    max-width: grid-calc(8);
  }
  .svg {
    display: block;
  }

  // iPhone Chapters
  $chapters: ("discovery", "design", "prototyping");

  @each $chapter in $chapters {
    .#{$chapter} &  { 
      background: url('../images/kpcc-iphone/bg-#{$chapter}.jpg') no-repeat center top;
      background-size: cover;
    }
  }
}
.chapter-title {
  display: inline-block;
  font-size: em(41);
  margin:0 0 grid-height(3);
  &:after {
    background: white;
    content: "";
    display: block;
    height:1px;
    margin-top: $grid-height / 2;
  }
}
.chapter-teaser {
  font-size: em(24);
  line-height: em(36, 24);
}

// Chapter Intermissions
.intermission {
  @extend .marquee-heading;
  text-align: center;

  .bound {
    max-width: grid-calc(12);
  }
}
.intermission-heading {
  font-size: em(32);
  margin: 0 0 grid-height(2);
}
.intermission.wireframes {
  background: #12A17A;
  color: white;
  margin: grid-height(2) 0;
  padding: grid-height(1) 0 grid-height(2);
  img {
    @include box-shadow(0 2px 9px rgba(0,0,0,0.5)); 
  }
  .heading-label {
    color: #003E2D;
  }
}

// Device Mocks
.marvel-device {
  margin: grid-height(2) auto;
  .screen {
    background: black;
  }
}

// Wireframe Flows
.flow {
  @include clearfix;
  list-style: none;
  padding: 0;
}
.flow-item {
  float: left;
  position: relative;
  &:last-of-type {
    .flow-arrow {
      display: none;
    }
  }
  .four-steps & {
    margin: 0 5%;
    width: 15%;
  }
  .brief {
    text-transform: none;
  }
  .flow-arrow {
    border-top: 1px dashed white;
    display: block;
    height:1px;
    opacity: 0.48;
    width: 52%;
    position: absolute;
    top: 44%;
    right: -58%;
    &:after {
      border-style: solid;
      border-width: 4.5px 0 4.5px 6px;
      border-color: transparent transparent transparent #ffffff;
      content: "";
      width: 0;
      height: 0;
      position: absolute;
      right: -7px;
      top: -5px;
    }
  }
}

// Slider component
.slider {
  position: relative;
}
.no-touch .slider-navigation {
  position: absolute;
  width:100%;
  height:100%;
  .prev, .next {
    background: white;
    cursor: pointer;
    position: absolute;
    top: 46%;
    margin-top: -7.5px;
    width: 20px;
    height: 2px;
  }
  .prev {
    left: 20px;
    &:after {
      border-style: solid;
      border-width: 7.5px 10px 7.5px 0;
      border-color: transparent #ffffff transparent transparent;
      content: "";
      width: 0;
      height: 0;
      position: absolute;
      left: -10px;
      top: -6px;
    }
  }
  .next {
    right: 20px;
    &:after {
      border-style: solid;
      border-width: 7.5px 0 7.5px 10px;
      border-color: transparent transparent transparent #ffffff;
      content: "";
      width: 0;
      height: 0;
      position: absolute;
      right: -10px;
      top: -6px;
    }
  }
}


.gallery {
  background:$black;
  overflow:hidden;
  margin:3em 0 2em;
  padding:1em 0;
  position:relative;

  .section-header {
    padding:1em 0;
    h4 {
      span {
        background:$black;
      }
    }
    hr {
      background:lighten($black, 15%);
      top:30%;
    }
  }

  nav {
    text-align:center;

    .bullets {
      @include clearfix();
      padding:0;
      li {
        border:1px solid $deepGray;
        border-radius:4px;
        display:inline-block;
        margin:0 5px;
        width:8px;
        height:8px;
        &.on {
          background:$white;
          border:0;
        }
      }
    }

  }
}

  .swipe {
    margin:0 auto;
    max-width:540px; 
    overflow: hidden;
    visibility: hidden;
    position: relative;
  }

  .swipe-wrap {
    overflow: hidden;
    position: relative;
  }

  .swipe-wrap > div {
    float:left;
    width:100%;
    padding:0 1em;
    position: relative;

    figure  {
      position:relative;
    }

    figcaption {
      background:rgba($black, 0.85);
      color:$paleGray;
      font-size:0.9em;
      margin:0;
      position:absolute;
      left:0;
      right:0;
      bottom:0;

      p {
        @extend .marquee-heading;
        padding:0 10px;
      }
    }
  }

  .no-touch .slider-nav {
    background:rgba(0,0,0,0.4);
    border:2px solid $white;
    border-radius:22px;
    display:block;
    margin-top:-22px;
    opacity:0.65;
    position:absolute;
    width:44px;
    height:44px;
    top:55%;
    z-index:400;
    &:hover {
      cursor:pointer;
      opacity:1;
    }
    &:active {
      opacity:0.6;
    }
    &:after {
      content:"";
      display:block;
      position:absolute;
      top:10px;
    }
    &.prev {
      left:2%;
      &:after { 
        @include triangle(20px, $white, left);
        left:3px;
      }
    }
    &.next {
      right:2%;
      &:after { 
        @include triangle(20px, $white, right);
        right:3px;
      }
    }
  }


// Next Project
.next-project {
  color:$white;
  height:24em;
  margin-bottom:-8em;
  position:relative;
  .next-bg {
    background:darken($subduedAccent, 13%);
    position:absolute;
    left:0;
    right:0;
    top:0;
    bottom:0;
    z-index:-3;
  }
  footer {
    height:20em;
    padding-top: grid-height(3);
    position:fixed;
    bottom:4em;
    left:0;
    right:0;
    text-align:center;
    h3, h5 {
      @extend .marquee-heading;
    }
    h3 {
      font-size: em(41);
      margin:0 0 grid-height(1);
    }
    h5 {
      color: #003D2C;
      font-size: em(14);
      font-weight: 600;
      margin-bottom: em(6);
      text-transform: uppercase;
    }
    p {
      font-size: em(18);
      margin-top:0;
      a {
        color:$white;
      }
    }
    a {
      color:$white;
      &:hover {
        color:$brightAccent;
      }
    }
  }
}
.next-project {
  &.outpost {
    background: url('../images/next-project-outpost.jpg');
    background-size: cover;
  }
}